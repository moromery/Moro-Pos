# Moro POS - نظام نقاط البيع

Moro POS هو نظام نقاط بيع وإدارة مخازن متكامل مبني باستخدام React. يوفر واجهة سهلة الاستخدام لإدارة المنتجات، المبيعات، العملاء، الموردين، ويدعم العمل على عدة أجهزة في نفس الوقت عبر مزامنة البيانات، بالإضافة إلى دعمه للعمل دون اتصال بالإنترنت.

## المتطلبات الأساسية

قبل البدء، تأكد من أن لديك الأدوات التالية مثبتة على جهاز الكمبيوتر الخاص بك:

1.  **Node.js و npm**: لتشغيل خادم المزامنة وخادم الويب المحلي. يمكنك تحميله من [الموقع الرسمي لـ Node.js](https://nodejs.org/).
2.  **مفتاح Google Gemini API**: بعض الميزات، مثل إنشاء وصف المنتجات تلقائيًا، تتطلب مفتاح API.
    *   احصل على مفتاحك من [Google AI Studio](https://aistudio.google.com/app/apikey).
3.  **متصفح ويب حديث**: مثل Google Chrome, Firefox, Microsoft Edge.

---

## خطوات التشغيل المفصلة

لتشغيل البرنامج، اتبع الخطوات التالية بالترتيب:

### الخطوة الأولى: تجهيز ملفات المشروع

1.  قم بوضع جميع ملفات المشروع التي لديك في مجلد واحد على جهاز الكمبيوتر الخاص بك.

### الخطوة الثانية: إعداد مفتاح Gemini API

يجب أن يتم توفير مفتاح Gemini API كمتغير بيئة (`API_KEY`) في البيئة التي سيتم تشغيل البرنامج فيها. النظام مصمم لقراءة هذا المتغير تلقائيًا.

### الخطوة الثالثة: تشغيل خادم المزامنة (خطوة اختيارية ولكن موصى بها)

هذا الخادم ضروري لتمكين المزامنة الفورية للبيانات بين عدة أجهزة على نفس الشبكة المحلية (مثل جهاز الكاشير وجهاز مدير المخزن).

1.  **افتح نافذة الأوامر (Terminal أو Command Prompt)** في مجلد المشروع.
2.  **ثبّت المكتبة المطلوبة** عن طريق كتابة الأمر التالي والضغط على Enter:
    ```bash
    npm install ws
    ```
3.  **شغّل الخادم** باستخدام الأمر التالي:
    ```bash
    node server/server.js
    ```
4.  سيظهر لك رسالة تفيد بأن الخادم يعمل. **احتفظ بنافذة الأوامر هذه مفتوحة** طوال فترة استخدامك للبرنامج.
5.  **ابحث عن عنوان IP المحلي لجهازك**:
    *   **في ويندوز**: افتح نافذة أوامر جديدة واكتب `ipconfig` وابحث عن "IPv4 Address".
    *   **في ماك أو لينكس**: افتح نافذة أوامر جديدة واكتب `ifconfig` أو `ip a` وابحث عن العنوان تحت "inet".
    *   سيكون العنوان شيئًا مثل `192.168.1.5`. احتفظ به للخطوة التالية.

### الخطوة الرابعة: تشغيل واجهة البرنامج الرئيسية

بما أن البرنامج يعتمد على تقنيات الويب الحديثة، يجب تشغيله عبر خادم ويب محلي بسيط.

1.  **افتح نافذة أوامر جديدة (Terminal أو Command Prompt)** في نفس مجلد المشروع.
2.  **شغّل خادم الويب المحلي** عن طريق كتابة الأمر التالي والضغط على Enter. هذا الأمر سيقوم تلقائيًا بتثبيت وتشغيل خادم بسيط:
    ```bash
    npx serve
    ```
3.  بعد تشغيل الأمر، ستظهر لك عناوين URL يمكنك استخدامها. غالبًا ما يكون أحدها `http://localhost:3000`.

### الخطوة الخامسة: الوصول للبرنامج وإعداده

1.  **افتح متصفح الويب** الخاص بك.
2.  **اكتب العنوان** الذي ظهر لك في الخطوة السابقة (مثل `http://localhost:3000`) في شريط العنوان واضغط Enter.
    **ملاحظة هامة:** لاستخدام بعض الميزات المتقدمة مثل "حفظ النسخ الاحتياطي التلقائي في مجلد"، يجب عليك استخدام العنوان `http://localhost:3000` حصراً وفي متصفح متوافق (مثل Chrome أو Edge). الوصول للبرنامج عبر عنوان IP الشبكي (`http://192.168.x.x`) سيعطل هذه الميزات لأسباب أمنية يفرضها المتصفح.
3.  الآن يجب أن ترى واجهة تسجيل الدخول للبرنامج. يمكنك استخدام بيانات الدخول الافتراضية:
    *   **اسم المستخدم (مدير):** `admin` ، **كلمة المرور:** `123`
    *   **اسم المستخدم (كاشير):** `cashier` ، **كلمة المرور:** `123`
4.  **لربط الأجهزة (إذا شغّلت خادم المزامنة):**
    *   اذهب إلى **الإعدادات** داخل البرنامج.
    *   في قسم **مزامنة الشبكة**، أدخل عنوان IP المحلي الذي حصلت عليه في الخطوة الثالثة، متبوعًا بالمنفذ `8080`. يجب أن يكون العنوان بهذا الشكل: `ws://192.168.1.5:8080` (استبدل `192.168.1.5` بعنوان IP الخاص بك).
    *   اضغط **حفظ وتوصيل**.
    *   كرر هذه الخطوة على كل الأجهزة التي تريد مزامنتها.

بهذا تكون قد شغّلت البرنامج بنجاح! يمكنك الآن البدء في استخدامه.